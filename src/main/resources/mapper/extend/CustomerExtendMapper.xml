<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.briup.apps.ej.dao.extend.CustomerExtendMapper">
<select id="findAddressById" resultMap="findAddressByIds">

    select
    c.id as c_id,
    c.telephone as c_telephone,
    c.password,
    c.realname,
    c.status,
    c.photo,
    a.id as a_id,
    a.province,
    a.city,
    a.area,
    a.telephone as a_telephone,
    a.customer_id
    from ej_customer c
    left join ej_address a
    on c.id=a.customer_id
    where c.id=#{id}
</select>

    <resultMap id="findAddressByIds" type="com.briup.apps.ej.bean.extend.CustomerExtend">

        <id column="c_id" jdbcType="BIGINT" property="id" />
        <result column="c_telephone" jdbcType="VARCHAR" property="telephone" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="realname" jdbcType="VARCHAR" property="realname" />
        <result column="status" jdbcType="VARCHAR" property="status" />
        <result column="photo" jdbcType="VARCHAR" property="photo" />
<collection property="addresses" ofType="com.briup.apps.ej.bean.Address">
        <id column="a_id" jdbcType="BIGINT" property="id" />
        <result column="province" jdbcType="VARCHAR" property="province" />
        <result column="city" jdbcType="VARCHAR" property="city" />
        <result column="area" jdbcType="VARCHAR" property="area" />
        <result column="address" jdbcType="VARCHAR" property="address" />
        <result column="a_telephone" jdbcType="VARCHAR" property="telephone" />
        <result column="customer_id" jdbcType="BIGINT" property="customerId" />
</collection>


    </resultMap>


    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jun 10 13:33:10 CST 2019.
    -->


</mapper>
